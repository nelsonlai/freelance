class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        n = len(graph)
        initial_set = set(initial)
        
        def dfs(node, visited, infected):
            if node in visited or node in infected:
                return
            visited.add(node)
            for neighbor in range(n):
                if graph[node][neighbor] == 1:
                    dfs(neighbor, visited, infected)
        
        best_node = min(initial)
        max_saved = 0
        
        for remove_node in sorted(initial):
            infected = initial_set - {remove_node}
            visited = set()
            
            for node in infected:
                dfs(node, visited, infected)
            
            saved = n - len(visited)
            if saved > max_saved:
                max_saved = saved
                best_node = remove_node
        
        return best_node
