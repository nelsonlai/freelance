class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        n = len(graph)
        initial_set = set(initial)
        
        def dfs(node, visited, removed):
            if node in visited or node in removed:
                return
            visited.add(node)
            for neighbor in range(n):
                if graph[node][neighbor] == 1:
                    dfs(neighbor, visited, removed)
        
        best_node = min(initial)
        max_saved = 0
        
        for remove_node in sorted(initial):
            removed = {remove_node}
            visited = set()
            
            for node in initial_set - removed:
                dfs(node, visited, removed)
            
            saved = n - len(visited) - len(removed)
            if saved > max_saved:
                max_saved = saved
                best_node = remove_node
        
        return best_node
